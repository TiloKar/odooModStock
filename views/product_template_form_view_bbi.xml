<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <record id="product_template_form_view_bbi" model="ir.ui.view">
    <field name="name">product.template.common.form.bbi</field>
    <field name="model">product.template</field>
    <field name="inherit_id" ref="product.product_template_form_view"/>
    <field name="arch" type="xml">
      <xpath expr="//field[@name='detailed_type']" position="after">
        <field name='bbiDrawingNb'/>
        <field name='bbiStockLocation_id'/>
        <field name='isSparePart'/>
        <field name='qualityCheck'/>
        <xpath expr="//field[@name='categ_id']" position="move"/>
      </xpath>
      <xpath expr="//group[@name='group_standard_price']" position="inside">
        <field name='webshop'/>
        <xpath expr="//field[@name='uom_id']" position="move"/>
        <xpath expr="//field[@name='uom_po_id']" position="move"/>
        <field name="write_uid" string="Letzte/r Bearbeiter/in" widget="many2one_avatar_user" />
      </xpath>
    </field>
  </record>
  <record id="product_template_form_view_only_bbi" model="ir.ui.view">
    <field name="name">product.template.form.view.only.bbi</field>
    <field name="model">product.template</field>
    <field name="inherit_id" ref="product.product_template_only_form_view"/>
    <field name="arch" type="xml">
      <field name="barcode" position="attributes">
          <attribute name="invisible">1</attribute>
      </field>
      <xpath expr="//field[@name='default_code']" position="attributes">
        <attribute name="string">bbi Scancode</attribute>
      </xpath>
      <xpath expr="//field[@name='detailed_type']" position="after">
        <xpath expr="//field[@name='default_code']" position="move"/>
        <button name="generateScancode"
          string="auto fill" type="object"
          attrs="{'invisible': [('default_code', '!=', False)]}"
          help="vergibt einen automatisch generierten Scancode"
          class="oe_link oe_read_only pt-0"/>
      </xpath>
      <xpath expr="//field[@name='categ_id']" position="after">
        <field name='roterPunkt_qty' attrs="{'invisible': [('detailed_type', '!=', 'consu')]}"/>
        <field name='roterPunkt_id' widget="many2one_avatar_user" attrs="{'invisible': [('detailed_type', '!=', 'consu')]}"/>
        <field name='roterPunkt_date' attrs="{'invisible': [('detailed_type', '!=', 'consu')]}" widget="date"/>
      </xpath>
    </field>
  </record>

  <!--record id="product_template_common_form_bbi" model="ir.ui.view">
    <field name="name">product.template.common.form.bbi</field>
    <field name="model">product.template</field>
    <field name="inherit_id" ref="product.product_template_form_view"/>
    <field name="arch" type="xml">
      <xpath expr="//field[@group='group_standard_price']" position="inside">
        <field name='webshop'/>
      </xpath>
    </field>
  </record-->
</odoo>
